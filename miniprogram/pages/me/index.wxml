<view class="me-page">
  <!-- ä¸ªäººä¿¡æ¯å¡ç‰‡ -->
  <view class="profile-card">
    <view class="card-title">
      <text>ä¸ªäººä¿¡æ¯</text>
      <!-- éšè—çš„ç®¡ç†å‘˜å…¥å£ - é•¿æŒ‰æ ‡é¢˜ -->
      <text class="admin-hidden" bindlongpress="onAdminEntrance">ğŸ‘¨â€ğŸ’¼</text>
    </view>
    
    <!-- å¤´åƒåŒºåŸŸ -->
    <view class="avatar-section">
      <view class="avatar-container" bindtap="onChooseAvatar">
        <image class="avatar" src="{{user.avatarUrl}}" mode="aspectFill" />
        <view class="avatar-edit-tip">ç‚¹å‡»æ›´æ¢</view>
      </view>
    </view>
    
    <!-- åŸºæœ¬ä¿¡æ¯ä¸€è¡Œ -->
    <view class="basic-info-row">
      <view class="info-item">
        <text class="info-label">å§“å</text>
        <text class="info-value">{{user.name}}</text>
      </view>
      <view class="info-item">
        <text class="info-label">æ€§åˆ«</text>
        <view class="gender-display">
          <text class="gender-icon">{{user.gender === 'male' ? 'ğŸ‘¨' : 'ğŸ‘©'}}</text>
          <text class="gender-text">{{user.gender === 'male' ? 'ç”·' : 'å¥³'}}</text>
        </view>
      </view>
      <view class="info-item">
        <text class="info-label">å¹´é¾„</text>
        <text class="info-value">{{user.age}}å²</text>
      </view>
    </view>
    
    <!-- ç¼–è¾‘æŒ‰é’®å•ç‹¬ä¸€è¡Œ -->
    <view class="edit-section">
      <button class="edit-btn" bindtap="onEdit">ç¼–è¾‘èµ„æ–™</button>
    </view>
    
    <!-- è”ç³»ä¿¡æ¯ -->
    <view class="contact-info">
      <view class="contact-item">
        <text class="contact-label">ğŸ“± æ‰‹æœºå·</text>
        <text class="contact-value">{{user.phone}}</text>
      </view>
      <view class="contact-item">
        <text class="contact-label">ğŸ“… æ³¨å†Œæ—¶é—´</text>
        <text class="contact-value">{{user.registerTime}}</text>
      </view>
    </view>
  </view>

  <!-- å¼€é—¨è®°å½•å¡ç‰‡ -->
  <view class="records-card">
    <view class="card-title">ğŸ” è¿‘æœŸå¼€é—¨è®°å½•</view>
    <view wx:if="{{logs.length > 0}}" class="records-list">
      <view 
        wx:for="{{logs}}" 
        wx:key="index"
        class="record-item"
      >
        <view class="record-main">
          <view class="record-device">
            <text class="device-icon">{{item.result === 'æˆåŠŸ' ? 'ğŸ”“' : 'ğŸ”’'}}</text>
            <text class="device-name">{{item.deviceName}}</text>
          </view>
          <view class="record-result {{item.result === 'æˆåŠŸ' ? 'success' : 'fail'}}">
            {{item.result}}
          </view>
        </view>
        <view class="record-time">{{item.time}}</view>
      </view>
    </view>
    
    <view wx:else class="empty-records">
      <text class="empty-icon">ğŸ“‚</text>
      <text class="empty-text">æš‚æ— å¼€é—¨è®°å½•</text>
    </view>
  </view>
</view> 